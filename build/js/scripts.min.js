"use strict";function CustomEvent(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var c=document.createEvent("CustomEvent");return c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c}(function(){function a(a){return"function"==typeof a||"object"==typeof a&&null!==a}function b(a){return"function"==typeof a}function c(a){return"object"==typeof a&&null!==a}function d(a,b){X[Q]=a,X[Q+1]=b,Q+=2,2===Q&&O()}function e(){var a=process.nextTick,b=process.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(b)&&"0"===b[1]&&"10"===b[2]&&(a=setImmediate),function(){a(j)}}function f(){return function(){N(j)}}function g(){var a=0,b=new U(j),c=document.createTextNode("");return b.observe(c,{characterData:!0}),function(){c.data=a=++a%2}}function h(){var a=new MessageChannel;return a.port1.onmessage=j,function(){a.port2.postMessage(0)}}function i(){return function(){setTimeout(j,1)}}function j(){for(var a=0;Q>a;a+=2){var b=X[a],c=X[a+1];b(c),X[a]=void 0,X[a+1]=void 0}Q=0}function k(){try{var a=require,b=a("vertx");return N=b.runOnLoop||b.runOnContext,f()}catch(c){return i()}}function l(){}function m(){return new TypeError("You cannot resolve a promise with itself")}function n(){return new TypeError("A promises callback cannot return that same promise.")}function o(a){try{return a.then}catch(b){return _.error=b,_}}function p(a,b,c,d){try{a.call(b,c,d)}catch(e){return e}}function q(a,b,c){R(function(a){var d=!1,e=p(c,b,function(c){d||(d=!0,b!==c?t(a,c):v(a,c))},function(b){d||(d=!0,w(a,b))},"Settle: "+(a._label||" unknown promise"));!d&&e&&(d=!0,w(a,e))},a)}function r(a,b){b._state===Z?v(a,b._result):b._state===$?w(a,b._result):x(b,void 0,function(b){t(a,b)},function(b){w(a,b)})}function s(a,c){if(c.constructor===a.constructor)r(a,c);else{var d=o(c);d===_?w(a,_.error):void 0===d?v(a,c):b(d)?q(a,c,d):v(a,c)}}function t(b,c){b===c?w(b,m()):a(c)?s(b,c):v(b,c)}function u(a){a._onerror&&a._onerror(a._result),y(a)}function v(a,b){a._state===Y&&(a._result=b,a._state=Z,0!==a._subscribers.length&&R(y,a))}function w(a,b){a._state===Y&&(a._state=$,a._result=b,R(u,a))}function x(a,b,c,d){var e=a._subscribers,f=e.length;a._onerror=null,e[f]=b,e[f+Z]=c,e[f+$]=d,0===f&&a._state&&R(y,a)}function y(a){var b=a._subscribers,c=a._state;if(0!==b.length){for(var d,e,f=a._result,g=0;g<b.length;g+=3)d=b[g],e=b[g+c],d?B(c,d,e,f):e(f);a._subscribers.length=0}}function z(){this.error=null}function A(a,b){try{return a(b)}catch(c){return aa.error=c,aa}}function B(a,c,d,e){var f,g,h,i,j=b(d);if(j){if(f=A(d,e),f===aa?(i=!0,g=f.error,f=null):h=!0,c===f)return void w(c,n())}else f=e,h=!0;c._state!==Y||(j&&h?t(c,f):i?w(c,g):a===Z?v(c,f):a===$&&w(c,f))}function C(a,b){try{b(function(b){t(a,b)},function(b){w(a,b)})}catch(c){w(a,c)}}function D(a,b){var c=this;c._instanceConstructor=a,c.promise=new a(l),c._validateInput(b)?(c._input=b,c.length=b.length,c._remaining=b.length,c._init(),0===c.length?v(c.promise,c._result):(c.length=c.length||0,c._enumerate(),0===c._remaining&&v(c.promise,c._result))):w(c.promise,c._validationError())}function E(a){return new ba(this,a).promise}function F(a){function b(a){t(e,a)}function c(a){w(e,a)}var d=this,e=new d(l);if(!P(a))return w(e,new TypeError("You must pass an array to race.")),e;for(var f=a.length,g=0;e._state===Y&&f>g;g++)x(d.resolve(a[g]),void 0,b,c);return e}function G(a){var b=this;if(a&&"object"==typeof a&&a.constructor===b)return a;var c=new b(l);return t(c,a),c}function H(a){var b=this,c=new b(l);return w(c,a),c}function I(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function J(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function K(a){this._id=ga++,this._state=void 0,this._result=void 0,this._subscribers=[],l!==a&&(b(a)||I(),this instanceof K||J(),C(this,a))}function L(){var a;if("undefined"!=typeof global)a=global;else if("undefined"!=typeof self)a=self;else try{a=Function("return this")()}catch(b){throw new Error("polyfill failed because global object is unavailable in this environment")}var c=a.Promise;(!c||"[object Promise]"!==Object.prototype.toString.call(c.resolve())||c.cast)&&(a.Promise=ha)}var M;M=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)};var N,O,P=M,Q=0,R=({}.toString,d),S="undefined"!=typeof window?window:void 0,T=S||{},U=T.MutationObserver||T.WebKitMutationObserver,V="undefined"!=typeof process&&"[object process]"==={}.toString.call(process),W="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,X=new Array(1e3);O=V?e():U?g():W?h():void 0===S&&"function"==typeof require?k():i();var Y=void 0,Z=1,$=2,_=new z,aa=new z;D.prototype._validateInput=function(a){return P(a)},D.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},D.prototype._init=function(){this._result=new Array(this.length)};var ba=D;D.prototype._enumerate=function(){for(var a=this,b=a.length,c=a.promise,d=a._input,e=0;c._state===Y&&b>e;e++)a._eachEntry(d[e],e)},D.prototype._eachEntry=function(a,b){var d=this,e=d._instanceConstructor;c(a)?a.constructor===e&&a._state!==Y?(a._onerror=null,d._settledAt(a._state,b,a._result)):d._willSettleAt(e.resolve(a),b):(d._remaining--,d._result[b]=a)},D.prototype._settledAt=function(a,b,c){var d=this,e=d.promise;e._state===Y&&(d._remaining--,a===$?w(e,c):d._result[b]=c),0===d._remaining&&v(e,d._result)},D.prototype._willSettleAt=function(a,b){var c=this;x(a,void 0,function(a){c._settledAt(Z,b,a)},function(a){c._settledAt($,b,a)})};var ca=E,da=F,ea=G,fa=H,ga=0,ha=K;K.all=ca,K.race=da,K.resolve=ea,K.reject=fa,K.prototype={constructor:K,then:function(a,b){var c=this,d=c._state;if(d===Z&&!a||d===$&&!b)return this;var e=new this.constructor(l),f=c._result;if(d){var g=arguments[d-1];R(function(){B(d,e,g,f)})}else x(c,e,a,b);return e},"catch":function(a){return this.then(null,a)}};var ia=L,ja={Promise:ha,polyfill:ia};"function"==typeof define&&define.amd?define(function(){return ja}):"undefined"!=typeof module&&module.exports?module.exports=ja:"undefined"!=typeof this&&(this.ES6Promise=ja),ia()}).call(this),window.Essential={rootElement:document,Core:{},start:function(a){this.loadBehaviors({application:a})},loadBehaviors:function(a){a.context=a.context||this.rootElement;var b=this.initializeBehaviors(a.application,a.context);this.launchBehaviors(b)},initializeBehaviors:function(a,b){for(var c=this.Core.crawl(b),d=Object.keys(c),e=[],f=-1;d[++f];){var g=d[f],h=this.Core.camelize(g),i=a[h];if("undefined"!=typeof i)for(var j=c[g],k=-1;j[++k];){var l=i["new"](j[k],!0);e.push(l)}}return e},launchBehaviors:function(a){for(var b=a.sort(this.Core.SortMethods.byPriority),c=-1;b[++c];)b[c].start()}},Object.getOwnPropertyDescriptors||(Object.getOwnPropertyDescriptors=function(a){var b={};return Object.getOwnPropertyNames(a).forEach(function(c){b[c]=Object.getOwnPropertyDescriptor(a,c)}),b});var Proto={"new":function(){var a=Object.create(this);return a.constructor&&a.constructor.apply(a,arguments),a},extend:function(a){var b=Object.create(this,Object.getOwnPropertyDescriptors(a));return b["super"]=this,b}};Function.prototype.extend=function(a){var b=this,c=Proto.extend.call(b.prototype,Proto);return c.extend(a)},CustomEvent.prototype=window.Event.prototype,window.CustomEvent=CustomEvent,Essential.Behavior=Proto.extend({constructor:function(a,b){this.el=a,b||this.start()},start:function(){this.delegateEvents(),this.listenChannels(),"function"==typeof this.init&&this.init()},delegateEvents:function(){Essential.Core.mapEvents.call(this,this.events,this.el)},listenChannels:function(){Essential.Core.mapEvents.call(this,this.channels,document)},emit:function(a){a.context=a.context||this.el,a.data=a.data||{},a.bubbles=a.bubbles||!0,a.cancelable=a.cancelable||!1;var b=new CustomEvent(a.channel,{bubbles:a.bubbles,cancelable:a.cancelable,detail:a.data});a.context.dispatchEvent(b)},priority:0}),Essential.Core.mapEvents=function(a,b){if("undefined"!=typeof a){var c=/^(\S+)\s*(.*)$/;for(var d in a){var e=a[d],f=d.match(c),g=f[1],h=f[2],i=h?b.querySelectorAll(h):[b];"undefined"!=typeof this[e]&&Essential.Core.bind(g,i,this[e].bind(this))}}},Essential.Core.bind=function(a,b,c){for(var d=-1;b[++d];){var e=b[d];e.addEventListener?b[d].addEventListener(a,c):e.attachEvent("on"+a,c)}},Essential.Core.SPECIAL_CHARS_REGEXP=/([\:\-\_]+(.))/g,Essential.Core.FIRST_LETTER_REGEXP=/^[a-z]/g,Essential.Core.camelize=function(a){return a.replace(Essential.Core.FIRST_LETTER_REGEXP,function(a){return a.toUpperCase()}).replace(Essential.Core.SPECIAL_CHARS_REGEXP,function(a,b,c){return c.toUpperCase()})},Essential.Core.crawl=function(a){for(var b=a.querySelectorAll("[data-behavior], [behavior]"),c=-1,d={};b[++c];)for(var e=b[c],f=e.getAttribute("data-behavior")||e.getAttribute("behavior"),g=f.split(" "),h=-1;g[++h];){var i=g[h];d[i]?d[i].push(e):d[i]=[e]}return d},Essential.Core.SortMethods={byPriority:function(a,b){return b.priority-a.priority}},function(){function a(b,d){function e(a,b){return function(){return a.apply(b,arguments)}}var f;if(d=d||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=d.touchBoundary||10,this.layer=b,this.tapDelay=d.tapDelay||200,this.tapTimeout=d.tapTimeout||700,!a.notNeeded(b)){for(var g=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],h=this,i=0,j=g.length;j>i;i++)h[g[i]]=e(h[g[i]],h);c&&(b.addEventListener("mouseover",this.onMouse,!0),b.addEventListener("mousedown",this.onMouse,!0),b.addEventListener("mouseup",this.onMouse,!0)),b.addEventListener("click",this.onClick,!0),b.addEventListener("touchstart",this.onTouchStart,!1),b.addEventListener("touchmove",this.onTouchMove,!1),b.addEventListener("touchend",this.onTouchEnd,!1),b.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(b.removeEventListener=function(a,c,d){var e=Node.prototype.removeEventListener;"click"===a?e.call(b,a,c.hijacked||c,d):e.call(b,a,c,d)},b.addEventListener=function(a,c,d){var e=Node.prototype.addEventListener;"click"===a?e.call(b,a,c.hijacked||(c.hijacked=function(a){a.propagationStopped||c(a)}),d):e.call(b,a,c,d)}),"function"==typeof b.onclick&&(f=b.onclick,b.addEventListener("click",function(a){f(a)},!1),b.onclick=null)}}var b=navigator.userAgent.indexOf("Windows Phone")>=0,c=navigator.userAgent.indexOf("Android")>0&&!b,d=/iP(ad|hone|od)/.test(navigator.userAgent)&&!b,e=d&&/OS 4_\d(_\d)?/.test(navigator.userAgent),f=d&&/OS [6-7]_\d/.test(navigator.userAgent),g=navigator.userAgent.indexOf("BB10")>0;a.prototype.needsClick=function(a){switch(a.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(a.disabled)return!0;break;case"input":if(d&&"file"===a.type||a.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(a.className)},a.prototype.needsFocus=function(a){switch(a.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!c;case"input":switch(a.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!a.disabled&&!a.readOnly;default:return/\bneedsfocus\b/.test(a.className)}},a.prototype.sendClick=function(a,b){var c,d;document.activeElement&&document.activeElement!==a&&document.activeElement.blur(),d=b.changedTouches[0],c=document.createEvent("MouseEvents"),c.initMouseEvent(this.determineEventType(a),!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),c.forwardedTouchEvent=!0,a.dispatchEvent(c)},a.prototype.determineEventType=function(a){return c&&"select"===a.tagName.toLowerCase()?"mousedown":"click"},a.prototype.focus=function(a){var b;d&&a.setSelectionRange&&0!==a.type.indexOf("date")&&"time"!==a.type&&"month"!==a.type?(b=a.value.length,a.setSelectionRange(b,b)):a.focus()},a.prototype.updateScrollParent=function(a){var b,c;if(b=a.fastClickScrollParent,!b||!b.contains(a)){c=a;do{if(c.scrollHeight>c.offsetHeight){b=c,a.fastClickScrollParent=c;break}c=c.parentElement}while(c)}b&&(b.fastClickLastScrollTop=b.scrollTop)},a.prototype.getTargetElementFromEventTarget=function(a){return a.nodeType===Node.TEXT_NODE?a.parentNode:a},a.prototype.onTouchStart=function(a){var b,c,f;if(a.targetTouches.length>1)return!0;if(b=this.getTargetElementFromEventTarget(a.target),c=a.targetTouches[0],d){if(f=window.getSelection(),f.rangeCount&&!f.isCollapsed)return!0;if(!e){if(c.identifier&&c.identifier===this.lastTouchIdentifier)return a.preventDefault(),!1;this.lastTouchIdentifier=c.identifier,this.updateScrollParent(b)}}return this.trackingClick=!0,this.trackingClickStart=a.timeStamp,this.targetElement=b,this.touchStartX=c.pageX,this.touchStartY=c.pageY,a.timeStamp-this.lastClickTime<this.tapDelay&&a.preventDefault(),!0},a.prototype.touchHasMoved=function(a){var b=a.changedTouches[0],c=this.touchBoundary;return Math.abs(b.pageX-this.touchStartX)>c||Math.abs(b.pageY-this.touchStartY)>c?!0:!1},a.prototype.onTouchMove=function(a){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(a.target)||this.touchHasMoved(a))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},a.prototype.findControl=function(a){return void 0!==a.control?a.control:a.htmlFor?document.getElementById(a.htmlFor):a.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},a.prototype.onTouchEnd=function(a){var b,g,h,i,j,k=this.targetElement;if(!this.trackingClick)return!0;if(a.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(a.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=a.timeStamp,g=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,f&&(j=a.changedTouches[0],k=document.elementFromPoint(j.pageX-window.pageXOffset,j.pageY-window.pageYOffset)||k,k.fastClickScrollParent=this.targetElement.fastClickScrollParent),h=k.tagName.toLowerCase(),"label"===h){if(b=this.findControl(k)){if(this.focus(k),c)return!1;k=b}}else if(this.needsFocus(k))return a.timeStamp-g>100||d&&window.top!==window&&"input"===h?(this.targetElement=null,!1):(this.focus(k),this.sendClick(k,a),d&&"select"===h||(this.targetElement=null,a.preventDefault()),!1);return d&&!e&&(i=k.fastClickScrollParent,i&&i.fastClickLastScrollTop!==i.scrollTop)?!0:(this.needsClick(k)||(a.preventDefault(),this.sendClick(k,a)),!1)},a.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},a.prototype.onMouse=function(a){return this.targetElement?a.forwardedTouchEvent?!0:a.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(a.stopImmediatePropagation?a.stopImmediatePropagation():a.propagationStopped=!0,a.stopPropagation(),a.preventDefault(),!1):!0:!0},a.prototype.onClick=function(a){var b;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===a.target.type&&0===a.detail?!0:(b=this.onMouse(a),b||(this.targetElement=null),b)},a.prototype.destroy=function(){var a=this.layer;c&&(a.removeEventListener("mouseover",this.onMouse,!0),a.removeEventListener("mousedown",this.onMouse,!0),a.removeEventListener("mouseup",this.onMouse,!0)),a.removeEventListener("click",this.onClick,!0),a.removeEventListener("touchstart",this.onTouchStart,!1),a.removeEventListener("touchmove",this.onTouchMove,!1),a.removeEventListener("touchend",this.onTouchEnd,!1),a.removeEventListener("touchcancel",this.onTouchCancel,!1)},a.notNeeded=function(a){var b,d,e,f;if("undefined"==typeof window.ontouchstart)return!0;if(d=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!c)return!0;if(b=document.querySelector("meta[name=viewport]")){if(-1!==b.content.indexOf("user-scalable=no"))return!0;if(d>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(g&&(e=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),e[1]>=10&&e[2]>=3&&(b=document.querySelector("meta[name=viewport]")))){if(-1!==b.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===a.style.msTouchAction||"manipulation"===a.style.touchAction?!0:(f=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],f>=27&&(b=document.querySelector("meta[name=viewport]"),b&&(-1!==b.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===a.style.touchAction||"manipulation"===a.style.touchAction?!0:!1)},a.attach=function(b,c){return new a(b,c)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return a}):"undefined"!=typeof module&&module.exports?(module.exports=a.attach,module.exports.FastClick=a):window.FastClick=a}(),function(){function a(a){if("string"!=typeof a&&(a=a.toString()),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(a))throw new TypeError("Invalid character in header field name");return a.toLowerCase()}function b(a){return"string"!=typeof a&&(a=a.toString()),a}function c(a){this.map={};var b=this;a instanceof c?a.forEach(function(a,c){c.forEach(function(c){b.append(a,c)})}):a&&Object.getOwnPropertyNames(a).forEach(function(c){b.append(c,a[c])})}function d(a){return a.bodyUsed?Promise.reject(new TypeError("Already read")):void(a.bodyUsed=!0)}function e(a){return new Promise(function(b,c){a.onload=function(){b(a.result)},a.onerror=function(){c(a.error)}})}function f(a){var b=new FileReader;return b.readAsArrayBuffer(a),e(b)}function g(a){var b=new FileReader;return b.readAsText(a),e(b)}function h(){return this.bodyUsed=!1,this._initBody=function(a){if(this._bodyInit=a,"string"==typeof a)this._bodyText=a;else if(n.blob&&Blob.prototype.isPrototypeOf(a))this._bodyBlob=a;else if(n.formData&&FormData.prototype.isPrototypeOf(a))this._bodyFormData=a;else{if(a)throw new Error("unsupported BodyInit type");this._bodyText=""}},n.blob?(this.blob=function(){var a=d(this);if(a)return a;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(f)},this.text=function(){var a=d(this);if(a)return a;if(this._bodyBlob)return g(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var a=d(this);return a?a:Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(k)}),this.json=function(){return this.text().then(JSON.parse)},this}function i(a){var b=a.toUpperCase();return o.indexOf(b)>-1?b:a}function j(a,b){if(b=b||{},this.url=a,this.credentials=b.credentials||"omit",this.headers=new c(b.headers),this.method=i(b.method||"GET"),this.mode=b.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&b.body)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(b.body)}function k(a){var b=new FormData;return a.trim().split("&").forEach(function(a){if(a){var c=a.split("="),d=c.shift().replace(/\+/g," "),e=c.join("=").replace(/\+/g," ");b.append(decodeURIComponent(d),decodeURIComponent(e))}}),b}function l(a){var b=new c,d=a.getAllResponseHeaders().trim().split("\n");return d.forEach(function(a){var c=a.trim().split(":"),d=c.shift().trim(),e=c.join(":").trim();b.append(d,e)}),b}function m(a,b){b||(b={}),this._initBody(a),this.type="default",this.url=null,this.status=b.status,this.ok=this.status>=200&&this.status<300,this.statusText=b.statusText,this.headers=b.headers instanceof c?b.headers:new c(b.headers),this.url=b.url||""}if(!self.fetch){c.prototype.append=function(c,d){c=a(c),d=b(d);var e=this.map[c];e||(e=[],this.map[c]=e),e.push(d)},c.prototype["delete"]=function(b){delete this.map[a(b)]},c.prototype.get=function(b){var c=this.map[a(b)];return c?c[0]:null},c.prototype.getAll=function(b){return this.map[a(b)]||[]},c.prototype.has=function(b){return this.map.hasOwnProperty(a(b))},c.prototype.set=function(c,d){this.map[a(c)]=[b(d)]},c.prototype.forEach=function(a){var b=this;Object.getOwnPropertyNames(this.map).forEach(function(c){a(c,b.map[c])})};var n={blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(a){return!1}}(),formData:"FormData"in self},o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];h.call(j.prototype),h.call(m.prototype),self.Headers=c,self.Request=j,self.Response=m,self.fetch=function(a,b){var c;return c=j.prototype.isPrototypeOf(a)&&!b?a:new j(a,b),new Promise(function(a,b){function d(){return"responseURL"in e?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):void 0}var e=new XMLHttpRequest;e.onload=function(){var c=1223===e.status?204:e.status;if(100>c||c>599)return void b(new TypeError("Network request failed"));var f={status:c,statusText:e.statusText,headers:l(e),url:d()},g="response"in e?e.response:e.responseText;a(new m(g,f))},e.onerror=function(){b(new TypeError("Network request failed"))},e.open(c.method,c.url,!0),"include"===c.credentials&&(e.withCredentials=!0),"responseType"in e&&n.blob&&(e.responseType="blob"),c.headers.forEach(function(a,b){b.forEach(function(b){e.setRequestHeader(a,b)})}),e.send("undefined"==typeof c._bodyInit?null:c._bodyInit)})},self.fetch.polyfill=!0}}(),function(){function a(a){this.a=i,this.b=void 0,this.d=[];var b=this;try{a(function(a){d(b,a)},function(a){e(b,a)})}catch(c){e(b,c)}}function b(b){return new a(function(a,c){c(b)})}function c(b){return new a(function(a){a(b)})}function d(a,b){if(a.a===i){if(b===a)throw new TypeError("Promise settled with itself.");var c=!1;try{var g=b&&b.then;if(null!==b&&"object"==typeof b&&"function"==typeof g)return void g.call(b,function(b){c||d(a,b),c=!0},function(b){c||e(a,b),c=!0})}catch(h){return void(c||e(a,h))}a.a=0,a.b=b,f(a)}}function e(a,b){if(a.a===i){if(b===a)throw new TypeError("Promise settled with itself.");a.a=1,a.b=b,f(a)}}function f(a){setTimeout(function(){if(a.a!==i)for(;a.d.length;){var b=a.d.shift(),c=b[0],d=b[1],e=b[2],b=b[3];try{0===a.a?e("function"==typeof c?c.call(void 0,a.b):a.b):1===a.a&&("function"==typeof d?e(d.call(void 0,a.b)):b(a.b))}catch(f){b(f)}}},0)}function g(b){return new a(function(a,c){function d(c){return function(d){f[c]=d,e+=1,e===b.length&&a(f)}}var e=0,f=[];0===b.length&&a(f);for(var g=0;g<b.length;g+=1)b[g].c(d(g),c)})}function h(b){return new a(function(a,c){for(var d=0;d<b.length;d+=1)b[d].c(a,c)})}var i=2;a.prototype.e=function(a){return this.c(void 0,a)},a.prototype.c=function(b,c){var d=this;return new a(function(a,e){d.d.push([b,c,a,e]),f(d)})},window.Promise||(window.Promise=a,window.Promise.resolve=c,window.Promise.reject=b,window.Promise.race=h,window.Promise.all=g,window.Promise.prototype.then=a.prototype.c,window.Promise.prototype["catch"]=a.prototype.e)}(),function(){function a(a){function b(){document.body?a():setTimeout(b,0)}b()}function b(a){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(a)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.f=document.createElement("span"),this.e=document.createElement("span"),this.d=-1,this.b.style.cssText="display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;",this.c.style.cssText="display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;",this.e.style.cssText="display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;",this.f.style.cssText="display:inline-block;width:200%;height:200%;",this.b.appendChild(this.f),this.c.appendChild(this.e),this.a.appendChild(this.b),this.a.appendChild(this.c)}function c(a,b,c){a.a.style.cssText="min-width:20px;min-height:20px;display:inline-block;position:absolute;width:auto;margin:0;padding:0;top:-999px;left:-999px;white-space:nowrap;font-size:100px;font-family:"+b+";"+c}function d(a){var b=a.a.offsetWidth,c=b+100;return a.e.style.width=c+"px",a.c.scrollLeft=c,a.b.scrollLeft=a.b.scrollWidth+100,a.d!==b?(a.d=b,!0):!1}function e(a,b){a.b.addEventListener("scroll",function(){d(a)&&null!==a.a.parentNode&&b(a.d)},!1),a.c.addEventListener("scroll",function(){d(a)&&null!==a.a.parentNode&&b(a.d)},!1),d(a)}function f(a,b){var c=b||{};this.family=a,this.style=c.style||"normal",this.variant=c.variant||"normal",this.weight=c.weight||"normal",this.stretch=c.stretch||"stretch",this.featureSettings=c.featureSettings||"normal"}var g=null;f.prototype.a=function(d,f){var h=d||"BESbswy",i=f||3e3,j="font-style:"+this.style+";font-variant:"+this.variant+";font-weight:"+this.weight+";font-stretch:"+this.stretch+";font-feature-settings:"+this.featureSettings+";-moz-font-feature-settings:"+this.featureSettings+";-webkit-font-feature-settings:"+this.featureSettings+";",k=document.createElement("div"),l=new b(h),m=new b(h),n=new b(h),o=-1,p=-1,q=-1,r=-1,s=-1,t=-1,u=this;return new Promise(function(b,d){function f(){null!==k.parentNode&&k.parentNode.removeChild(k)}function h(){if((-1!==o&&-1!==p||-1!==o&&-1!==q||-1!==p&&-1!==q)&&(o===p||o===q||p===q)){if(null===g){var a=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);g=!!a&&(536>parseInt(a[1],10)||536===parseInt(a[1],10)&&11>=parseInt(a[2],10))}g?o===r&&p===r&&q===r||o===s&&p===s&&q===s||o===t&&p===t&&q===t||(f(),b(u)):(f(),b(u))}}a(function(){function a(){if(Date.now()-b>=i)f(),d(u);else{var c=document.hidden;(!0===c||void 0===c)&&(o=l.a.offsetWidth,p=m.a.offsetWidth,q=n.a.offsetWidth,h()),setTimeout(a,50)}}var b=Date.now();c(l,"sans-serif",j),c(m,"serif",j),c(n,"monospace",j),k.appendChild(l.a),k.appendChild(m.a),k.appendChild(n.a),document.body.appendChild(k),r=l.a.offsetWidth,s=m.a.offsetWidth,t=n.a.offsetWidth,a(),e(l,function(a){o=a,h()}),c(l,u.family+",sans-serif",j),e(m,function(a){p=a,h()}),c(m,u.family+",serif",j),e(n,function(a){q=a,h()}),c(n,u.family+",monospace",j)})})},window.FontFaceObserver=f,window.FontFaceObserver.prototype.check=f.prototype.a}(),!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.page=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(c){function d(a,b){if("function"==typeof a)return d("*",a);if("function"==typeof b)for(var c=new h(a),e=1;e<arguments.length;++e)d.callbacks.push(c.middleware(arguments[e]));else"string"==typeof a?d["string"==typeof b?"redirect":"show"](a,b):d.start(a)}function e(a){if(!a.handled){var b;b=t?s+p.hash.replace("#!",""):p.pathname+p.search,b!==a.canonicalPath&&(d.stop(),a.handled=!1,p.href=a.canonicalPath)}}function f(a){return"string"!=typeof a?a:r?decodeURIComponent(a.replace(/\+/g," ")):a}function g(a,b){"/"===a[0]&&0!==a.indexOf(s)&&(a=s+(t?"#!":"")+a);var c=a.indexOf("?");if(this.canonicalPath=a,this.path=a.replace(s,"")||"/",t&&(this.path=this.path.replace("#!","")||"/"),this.title=document.title,this.state=b||{},this.state.path=a,this.querystring=~c?f(a.slice(c+1)):"",this.pathname=f(~c?a.slice(0,c):a),this.params={},this.hash="",!t){if(!~this.path.indexOf("#"))return;var d=this.path.split("#");this.path=d[0],this.hash=f(d[1])||"",this.querystring=this.querystring.split("#")[0]}}function h(a,b){b=b||{},this.path="*"===a?"(.*)":a,this.method="GET",this.regexp=l(this.path,this.keys=[],b.sensitive,b.strict)}function i(a){if(1===j(a)&&!(a.metaKey||a.ctrlKey||a.shiftKey||a.defaultPrevented)){for(var b=a.target;b&&"A"!==b.nodeName;)b=b.parentNode;if(b&&"A"===b.nodeName&&!b.hasAttribute("download")&&"external"!==b.getAttribute("rel")){var e=b.getAttribute("href");if((t||b.pathname!==p.pathname||!b.hash&&"#"!==e)&&!(e&&e.indexOf("mailto:")>-1)&&!b.target&&k(b.href)){var f=b.pathname+b.search+(b.hash||"");"undefined"!=typeof c&&f.match(/^\/[a-zA-Z]:\//)&&(f=f.replace(/^\/[a-zA-Z]:\//,"/"));var g=f;0===f.indexOf(s)&&(f=f.substr(s.length)),t&&(f=f.replace("#!","")),s&&g===f||(a.preventDefault(),d.show(g))}}}}function j(a){return a=a||window.event,null===a.which?a.button:a.which}function k(a){var b=p.protocol+"//"+p.hostname;return p.port&&(b+=":"+p.port),a&&0===a.indexOf(b)}var l=a("path-to-regexp");b.exports=d;var m,n,o="undefined"!=typeof document&&document.ontouchstart?"touchstart":"click",p="undefined"!=typeof window&&(window.history.location||window.location),q=!0,r=!0,s="",t=!1;d.callbacks=[],d.exits=[],d.current="",d.len=0,d.base=function(a){return 0===arguments.length?s:void(s=a)},d.start=function(a){if(a=a||{},!m&&(m=!0,!1===a.dispatch&&(q=!1),!1===a.decodeURLComponents&&(r=!1),!1!==a.popstate&&window.addEventListener("popstate",u,!1),!1!==a.click&&document.addEventListener(o,i,!1),!0===a.hashbang&&(t=!0),q)){var b=t&&~p.hash.indexOf("#!")?p.hash.substr(2)+p.search:p.pathname+p.search+p.hash;d.replace(b,null,!0,q)}},d.stop=function(){m&&(d.current="",d.len=0,m=!1,document.removeEventListener(o,i,!1),window.removeEventListener("popstate",u,!1))},d.show=function(a,b,c,e){var f=new g(a,b);return d.current=f.path,!1!==c&&d.dispatch(f),!1!==f.handled&&!1!==e&&f.pushState(),f},d.back=function(a,b){d.len>0?(history.back(),d.len--):setTimeout(a?function(){d.show(a,b)}:function(){d.show(s,b)})},d.redirect=function(a,b){"string"==typeof a&&"string"==typeof b&&d(a,function(a){setTimeout(function(){d.replace(b)},0)}),"string"==typeof a&&"undefined"==typeof b&&setTimeout(function(){d.replace(a)},0)},d.replace=function(a,b,c,e){var f=new g(a,b);return d.current=f.path,f.init=c,f.save(),!1!==e&&d.dispatch(f),f},d.dispatch=function(a){function b(){var a=d.exits[h++];return a?void a(f,b):c()}function c(){var b=d.callbacks[g++];return a.path!==d.current?void(a.handled=!1):b?void b(a,c):e(a)}var f=n,g=0,h=0;n=a,f?b():c()},d.exit=function(a,b){if("function"==typeof a)return d.exit("*",a);for(var c=new h(a),e=1;e<arguments.length;++e)d.exits.push(c.middleware(arguments[e]))},d.Context=g,g.prototype.pushState=function(){d.len++,history.pushState(this.state,this.title,t&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},g.prototype.save=function(){history.replaceState(this.state,this.title,t&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},d.Route=h,h.prototype.middleware=function(a){var b=this;return function(c,d){return b.match(c.path,c.params)?a(c,d):void d()}},h.prototype.match=function(a,b){var c=this.keys,d=a.indexOf("?"),e=~d?a.slice(0,d):a,g=this.regexp.exec(decodeURIComponent(e));if(!g)return!1;for(var h=1,i=g.length;i>h;++h){var j=c[h-1],k=f(g[h]);void 0===k&&hasOwnProperty.call(b,j.name)||(b[j.name]=k)}return!0};var u=function(){var a=!1;if("undefined"!=typeof window)return"complete"===document.readyState?a=!0:window.addEventListener("load",function(){setTimeout(function(){a=!0},0)}),function(b){if(a)if(b.state){var c=b.state.path;d.replace(c,b.state)}else d.show(p.pathname+p.hash,void 0,void 0,!1)}}();d.sameOrigin=k}).call(this,a("_process"))},{_process:2,"path-to-regexp":3}],2:[function(a,b,c){function d(){}var e=b.exports={};e.nextTick=function(){var a="undefined"!=typeof window&&window.setImmediate,b="undefined"!=typeof window&&window.MutationObserver,c="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(a)return function(a){return window.setImmediate(a)};var d=[];if(b){var e=document.createElement("div"),f=new MutationObserver(function(){var a=d.slice();d.length=0,
a.forEach(function(a){a()})});return f.observe(e,{attributes:!0}),function(a){d.length||e.setAttribute("yes","no"),d.push(a)}}return c?(window.addEventListener("message",function(a){var b=a.source;if((b===window||null===b)&&"process-tick"===a.data&&(a.stopPropagation(),d.length>0)){var c=d.shift();c()}},!0),function(a){d.push(a),window.postMessage("process-tick","*")}):function(a){setTimeout(a,0)}}(),e.title="browser",e.browser=!0,e.env={},e.argv=[],e.on=d,e.addListener=d,e.once=d,e.off=d,e.removeListener=d,e.removeAllListeners=d,e.emit=d,e.binding=function(a){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(a){throw new Error("process.chdir is not supported")}},{}],3:[function(a,b,c){function d(a){return a.replace(/([=!:$\/()])/g,"\\$1")}function e(a,b){return a.keys=b,a}function f(a){return a.sensitive?"":"i"}function g(a,b){var c=a.source.match(/\((?!\?)/g);if(c)for(var d=0;d<c.length;d++)b.push({name:d,delimiter:null,optional:!1,repeat:!1});return e(a,b)}function h(a,b,c){for(var d=[],g=0;g<a.length;g++)d.push(j(a[g],b,c).source);var h=new RegExp("(?:"+d.join("|")+")",f(c));return e(h,b)}function i(a,b){function c(a,c,f,g,h,i,j,k){if(c)return c;if(k)return"\\"+k;var l="+"===j||"*"===j,m="?"===j||"*"===j;return b.push({name:g||e++,delimiter:f||"/",optional:m,repeat:l}),f=f?"\\"+f:"",h=d(h||i||"[^"+(f||"\\/")+"]+?"),l&&(h=h+"(?:"+f+h+")*"),m?"(?:"+f+"("+h+"))?":f+"("+h+")"}var e=0;return a.replace(l,c)}function j(a,b,c){if(b=b||[],k(b)?c||(c={}):(c=b,b=[]),a instanceof RegExp)return g(a,b,c);if(k(a))return h(a,b,c);var d=c.strict,j=c.end!==!1,l=i(a,b),m="/"===a.charAt(a.length-1);return d||(l=(m?l.slice(0,-2):l)+"(?:\\/(?=$))?"),l+=j?"$":d&&m?"":"(?=\\/|$)",e(new RegExp("^"+l,f(c)),b)}var k=a("isarray");b.exports=j;var l=new RegExp(["(\\\\.)","([\\/.])?(?:\\:(\\w+)(?:\\(((?:\\\\.|[^)])*)\\))?|\\(((?:\\\\.|[^)])*)\\))([+*?])?","([.+*?=^!:${}()[\\]|\\/])"].join("|"),"g")},{isarray:4}],4:[function(a,b,c){b.exports=Array.isArray||function(a){return"[object Array]"==Object.prototype.toString.call(a)}},{}]},{},[1])(1)}),window.Roperzh={},window.Roperzh.Behaviors={},window.Roperzh.Services={},Roperzh.Services.loadPage=function(a){var b=document.querySelector('main[role="main"]');b.style.opacity=0,Essential.Behavior.emit({context:document,channel:"loadingBar:show"}),fetch(a.path).then(function(a){a.text().then(function(a){var c=document.createElement("html");c.innerHTML=a,setTimeout(function(){Essential.Behavior.emit({context:document,channel:"loadingBar:hide"}),b.innerHTML=c.querySelector('main[role="main"]').innerHTML,b.style.opacity=1,grunticon.svgLoadedCallback(),Essential.loadBehaviors({context:b,application:Roperzh.Behaviors})},1e3)})})},Roperzh.Behaviors.FontLoader=Essential.Behavior.extend({init:function(){var a=new FontFaceObserver("Montserrat",{weight:400});Promise.all([a.check()]).then(function(){document.documentElement.className+=" fonts-loaded"},function(){document.documentElement.className+=" fonts-unavailable"})}}),Roperzh.Behaviors.LoadingBar=Essential.Behavior.extend({channels:{"loadingBar:show":"show","loadingBar:hide":"hide"},show:function(){this.el.classList.add("animating")},hide:function(){this.el.classList.remove("animating")}}),Roperzh.Behaviors.ModalTrigger=Essential.Behavior.extend({events:{click:"toggleModal"},channels:{"modal:closed":"animate","modal:opened":"animate"},toggleModal:function(a){var b=this.el.classList.contains("active")?"modal:close":"modal:open";this.emit({channel:b}),a.preventDefault()},animate:function(){this.el.classList.toggle("active")}}),Roperzh.Behaviors.Modal=Essential.Behavior.extend({init:function(){this.main=document.querySelector('main[role="main"]'),this.el.innerHTML+='<div class="overlay"></div>',this.el.style.display="none"},events:{click:"close"},channels:{"modal:open":"open","modal:close":"close"},open:function(){this.setOverflow("hidden"),this.el.style.display="block",setTimeout(function(){this.el.classList.add("open"),this.emit({channel:"modal:opened"})}.bind(this))},close:function(){this.setOverflow("initial"),this.el.classList.remove("open"),this.emit({channel:"modal:closed"}),setTimeout(function(){this.el.style.display="none"}.bind(this),500)},setOverflow:function(a){document.documentElement.style.overflow=a,document.body.style.overflow=a}}),document.addEventListener("DOMContentLoaded",function(){page("/",function(a){Roperzh.Services.loadPage(a)}),page("/:slug",function(a){Roperzh.Services.loadPage(a)}),page({dispatch:!1}),FastClick.attach(document.body),Essential.loadBehaviors({context:document,application:window.Roperzh.Behaviors})});